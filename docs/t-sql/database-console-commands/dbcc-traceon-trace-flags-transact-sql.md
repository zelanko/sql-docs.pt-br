---
title: Sinalizadores de rastreamento (Transact-SQL) | Microsoft Docs
ms.custom: ''
ms.date: 01/09/2019
ms.prod: sql
ms.prod_service: sql-database
ms.reviewer: ''
ms.technology: t-sql
ms.topic: language-reference
dev_langs:
- TSQL
helpviewer_keywords:
- trace flags [SQL Server], about trace flags
- trace flags [SQL Server]
- global trace flags [SQL Server]
- flags [SQL Server]
- session trace flags [SQL Server]
- performance [SQL Server], trace
- debugging [SQL Server], trace flags
ms.assetid: b971b540-1ac2-435b-b191-24399eb88265
author: pmasl
ms.author: pelopes
manager: craigg
ms.openlocfilehash: 90f27a36b455b4c0b497b43d5b302684a1a7a9ba
ms.sourcegitcommit: 1f53b6a536ccffd701fc87e658ddac714f6da7a2
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/10/2019
ms.locfileid: "54206462"
---
# <a name="dbcc-traceon---trace-flags-transact-sql"></a>DBCC TRACEON – sinalizadores de rastreamento (Transact-SQL)

[!INCLUDE[tsql-appliesto-ss2012-xxxx-xxxx-xxx-md](../../includes/tsql-appliesto-ss2012-xxxx-xxxx-xxx-md.md)]

Sinalizadores de rastreamento são usados para definir as características do servidor específico ou para alterar um comportamento em particular. Por exemplo, o sinalizador de rastreamento 3226 é um sinalizador de rastreamento de inicialização que suprime mensagens de backup bem-sucedido no log erros. Sinalizadores de rastreamento são usados com frequência para diagnosticar problemas de desempenho ou depurar procedimentos armazenados ou sistemas de computador complexos, mas também podem ser recomendados pelo Suporte da Microsoft para lidar com comportamento que esteja prejudicando uma carga de trabalho específica.  Todos os sinalizadores de rastreamento documentados e aqueles recomendados pelo Suporte da Microsoft têm suporte total em um ambiente de produção quando usados conforme indicado.  Observe que os sinalizadores de rastreamento nesta lista podem ter considerações adicionais sobre seu uso específico, portanto, é aconselhável examinar cuidadosamente todas as recomendações de apresentadas aqui e/ou por seu engenheiro de suporte. Além disso, assim como acontece com qualquer alteração de configuração no SQL Server, sempre é melhor testar minuciosamente o sinalizador em um ambiente não de produção antes de implantar.
  
A tabela a seguir lista e descreve os sinalizadores de rastreamento disponíveis no [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].
 
> [!NOTE]
> Alguns sinalizadores de rastreamento foram introduzidos em versões específicas do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Para obter mais informações sobre a versão aplicável, confira o artigo do Suporte da Microsoft associado a um sinalizador de rastreamento específico.

> [!IMPORTANT]
> As versões futuras do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] talvez não ofereçam suporte ao comportamento de sinalizador de rastreamento. 
  
|Sinalizador de rastreamento|Descrição|  
|---|---|
|**139**| Força a semântica de conversão correta no escopo dos comandos de verificação DBCC, como [DBCC CHECKDB](../../t-sql/database-console-commands/dbcc-checkdb-transact-sql.md), [DBCC CHECKTABLE](../../t-sql/database-console-commands/dbcc-checktable-transact-sql.md) e [DBCC CHECKCONSTRAINTS](../../t-sql/database-console-commands/dbcc-checkconstraints-transact-sql.md), ao analisar a lógica de precisão e conversão melhorada introduzida com o nível de compatibilidade 130, para tipos de dados específicos em um banco de dados com um nível de compatibilidade inferior. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/help/4010261).<br /><br />**Observação:** esse sinalizador de rastreamento aplica-se ao [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM CU3, ao [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 e a builds superiores.<br /><br />**AVISO:** o sinalizador de rastreamento 139 não deve ser habilitado continuamente em um ambiente de produção e deve ser usado com o propósito exclusivo de executar as verificações de validação do banco de dados descritas neste [artigo do Suporte da Microsoft](https://support.microsoft.com/help/4010261). Ele deverá ser desabilitado imediatamente após a conclusão das verificações de validação.<br /><br />**Escopo**: apenas global|
|**174**|Aumenta o número de buckets do cache de planos do [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] de 40.009 para 160.001 em sistemas de 64 bits. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3026083).<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Escopo**: apenas global|
|**176**|Permite que uma correção solucione erros de endereço ao recompilar partições online para tabelas que contenham uma coluna de particionamento computada. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3213683).<br /><br />**Escopo**: global ou sessão|
|**205**|Relata no log de erros quando um procedimento armazenado dependente de estatísticas está sendo recompilado como resultado das estatísticas de atualização automática. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/195565).<br /><br />**Escopo**: apenas global|
|**260**|Imprime informações de versão sobre DLLs (bibliotecas de vínculo dinâmico) de procedimento armazenado estendido. Para obter mais informações sobre **GetXpVersion()**, confira [Criando procedimentos armazenados estendidos](../../relational-databases/extended-stored-procedures-programming/creating-extended-stored-procedures.md).<br /><br />**Escopo:** global ou sessão|
|**272**|Desabilita a pré-alocação de identidade para evitar lacunas nos valores de uma coluna de identidade caso o servidor seja reiniciado inesperadamente ou efetue failover para um servidor secundário. Observe que o cache de identidade é usado para melhorar o desempenho de INSERT em tabelas com colunas de identidade.<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)], para fazer isso no nível do banco de dados, confira a opção IDENTITY_CACHE em [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Escopo**: apenas global|
|**460**|Substitui a ID de mensagem [8152](../../relational-databases/errors-events/database-engine-events-and-errors.md#errors-8000-to-8999) de truncamento de dados pela ID de mensagem [2628](../../relational-databases/errors-events/database-engine-events-and-errors.md#errors-2000-to-2999). Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/4468101).<br /><br />**Observação:** esse sinalizador de rastreamento se aplica à atualização cumulativa 12 do [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] e builds posteriores.<br /><br />**Escopo**: global ou sessão|
|**610**|Controla as inserções em tabelas indexadas minimamente registradas. Este sinalizador de rastreamento não é mais necessário começando com o SQL Server 2016, pois o registro mínimo em log é ativado por padrão para tabelas indexadas. No SQL Server 2016, quando a operação de carregamento em massa fizer com que uma nova página seja alocada, todas as linhas que preenchem sequencialmente essa nova página serão registradas minimamente se todos os outros pré-requisitos para o registro em log mínimo forem atendidos. As linhas inseridas em páginas existentes (não em uma nova alocação de página) para manter a ordem de índice ainda são totalmente registradas, como as linhas que são movidas como resultado de divisões de página durante o carregamento. Também é importante que ALLOW_PAGE_LOCKS esteja ON para os índices (que é ON por padrão) para que a operação de registro em log mínimo funcione à medida que os bloqueios de página forem adquiridos durante a alocação e, portanto, somente as alocações de página ou de extensão sejam registradas. Para obter mais informações, confira [Data Loading Performance Guide](https://msdn.microsoft.com/library/dd425070.aspx) (Guia de desempenho de carregamento de dados).<br /><br />**Escopo**: global ou sessão|
|**634**|Desabilita a tarefa de compactação columnstore em segundo plano. O [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] executa periodicamente a tarefa em segundo plano do Motor de Tupla que compacta rowgroups do índice columnstore com os dados não compactados, um rowgroup de cada vez.<br /><br />A compactação columnstore melhora o desempenho da consulta, mas também consome recursos do sistema. Você pode controlar o tempo da compactação de columnstore manualmente, desabilitando a tarefa de compactação em segundo plano com o sinalizador de rastreamento 634 e invocando explicitamente ALTER INDEX...REORGANIZE ou ALTER INDEX...REBUILD no momento em que desejar.<br /><br />**Escopo:** apenas global|
|**652**|Desabilita as verificações de pré-busca de página. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/920093).<br /><br />**Escopo**: global ou sessão|
|**661**|Desabilita o processo de remoção de registros fantasmas. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/920093).<br /><br />**Escopo**: apenas global|
|**692**|Desabilita as inserções rápidas durante o carregamento em massa de dados no heap ou no índice clusterizado. Começando com o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], as inserções rápidas são habilitadas por padrão, aproveitando o log mínimo quando o banco de dados está no modelo de recuperação bulk-logged ou simples para otimizar o desempenho de inserção dos registros inseridos em novas páginas. Com as inserções rápidas, cada lote de carregamento em massa adquire novas extensões, ignorando a pesquisa de alocação de extensão existente com espaço livre disponível, para otimizar o desempenho da inserção.<br /><br /> Com as inserções rápidas, os carregamentos em massa com tamanhos de lote pequenos podem resultar no aumento de espaço não utilizado consumido por objetos, portanto, é recomendável usar um tamanho de lote grande para que cada lote preencha completamente a extensão. Se não for possível aumentar o tamanho do lote, esse sinalizador de rastreamento poderá ajudar a reduzir o espaço não utilizado reservado às custas do desempenho. <br /><br />**Observação:** esse sinalizador de rastreamento aplica-se ao [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM e a builds superiores.<br /><br />**Escopo**: global ou sessão|
|**715**|Habilita o bloqueio de tabela para operações de carregamento em massa em um heap sem índices não clusterizados. Quando esse sinalizador de rastreamento está habilitado, as operações de carregamento em massa adquirem bloqueios de BU (atualização em massa) durante a cópia de dados em uma tabela. Os bloqueios de BU (atualização em massa) permitem que vários threads carreguem dados em massa simultaneamente para a mesma tabela, impedindo que outros processos que não estejam carregando dados em massa acessem a tabela.<br /><br />O comportamento é semelhante a quando o usuário especifica explicitamente a dica TABLOCK ao executar o carregamento em massa ou quando o bloqueio de tabela sp_tableoption em um carregamento em massa está habilitado para uma determinada tabela. No entanto, quando esse sinalizador de rastreamento está habilitado, esse comportamento torna-se o padrão, sem alterações de banco de dados ou de consulta.<br /><br />**Escopo:** global ou sessão|
|**834**|Usa as alocações de página grande do Microsoft Windows para o pool de buffers. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3210239).<br /><br />**Observação:** se você está usando o recurso de índice columnstore do [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] para o [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], não recomendamos ativar o sinalizador de rastreamento 834.<br /><br />**Escopo**: apenas global|
|**845**|Habilita páginas bloqueadas em SKUs Standard do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], quando a conta de serviço do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tem o privilégio Bloquear páginas na memória habilitado. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/970070) e a página de documentação sobre [Opções Server Memory de configuração do servidor](../../database-engine/configure-windows/server-memory-server-configuration-options.md#lock-pages-in-memory-lpim).<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], esse comportamento está habilitado por padrão para SKUs Standard e o sinalizador de rastreamento 845 não pode ser usado.<br /><br />**Escopo**: apenas global|
|**902**|Ignora a execução do script de upgrade de banco de dados ao instalar uma atualização cumulativa ou um service pack. Ao encontrar um erro durante o modo de atualização de script, é recomendável contatar o CSS (Serviço de Suporte e Atendimento ao Cliente) do Microsoft SQL para obter mais diretrizes. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2163980).<br /><br />**AVISO:** esse sinalizador de rastreamento é destinado à solução de problemas de atualizações com falha durante o modo de atualização de script e não dá suporte à execução contínua em um ambiente de produção. Os scripts de atualização do banco de dados precisam ser executados com êxito para garantir uma instalação completa das atualizações cumulativas e dos service packs. Se isso não for feito, poderá haver problemas inesperados com a instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br />**Escopo**: apenas global|
|**1117**|Quando um arquivo no grupo de arquivos atingir o limite de crescimento automático, todos os arquivos no grupo de arquivos crescerão.<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], esse comportamento é controlado pela opção AUTOGROW_SINGLE_FILE e AUTOGROW_ALL_FILES de ALTER DATABASE e o sinalizador de rastreamento 1117 não tem nenhum efeito. Para obter mais informações, consulte [Opções de arquivo e grupo de arquivos de ALTER DATABASE &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-file-and-filegroup-options.md).<br /><br />**Escopo:** apenas global|
|**1118**|Remove a maioria das alocações de única página do servidor, reduzindo a contenção na página SGAM. Quando um novo objeto é criado, por padrão, as primeiras oito páginas são alocadas de diferentes extensões (extensões misturadas). Depois, quando mais páginas são necessárias, elas são alocadas da mesma extensão (extensão uniforme). A página SGAM é usada para controlar essas extensões mistas, para que possa se tornar rapidamente um gargalo quando várias alocações de página mistas estiverem ocorrendo. Esse sinalizador de rastreamento aloca as oito páginas da mesma extensão ao criar novos objetos, minimizando a necessidade de verificar a página SGAM. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/328551).<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], esse comportamento é controlado pela opção SET MIXED_PAGE_ALLOCATION de ALTER DATABASE e o sinalizador de rastreamento 1118 não tem nenhum efeito. Para obter mais informações, veja [Opções ALTER DATABASE SET &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md).<br /><br />**Escopo:** apenas global|  
|**1204**|Retorna os recursos e tipos de bloqueios que participam de um deadlock e também o comando atual afetado. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/832524).<br /><br />**Escopo:** apenas global|  
|**1211**|Desabilita o escalonamento de bloqueios com base na pressão de memória ou no número de bloqueios. O [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] não escalona bloqueios de linha ou de página para bloqueios de tabela.<br /><br />O uso desse sinalizador de rastreamento pode gerar um número excessivo de bloqueios. Isso pode reduzir o desempenho do [!INCLUDE[ssDE](../../includes/ssde-md.md)] ou causar erros 1204 (não é possível alocar recurso de bloqueio) por causa de memória insuficiente.<br /><br />Se os sinalizadores de rastreamento 1211 e 1224 forem definidos, o 1211 terá precedência sobre o 1224. Entretanto, como o sinalizador de rastreamento 1211 evita o escalonamento em todos os casos, mesmo sob pressão de memória, recomendamos usar 1224. Isso ajuda a evitar erros de "falta de bloqueios" quando muitos bloqueios são usados.<br /><br />**Escopo**: global ou sessão|  
|**1222**|Retorna os recursos e os tipos de bloqueios que participam de um deadlock e também o comando atual afetado, em um formato XML que não obedece a nenhum esquema XSD.<br /><br />**Escopo**: apenas global|  
|**1224**|Desabilita o escalonamento de bloqueios com base no número de bloqueios. Entretanto, a pressão de memória ainda pode ativar o escalonamento de bloqueios. O [!INCLUDE[ssDE](../../includes/ssde-md.md)] escalona bloqueios de linha ou de página para bloqueios de tabela (ou partição) se a quantidade de memória utilizada pelos objetos de bloqueio exceder uma das seguintes condições:<br /><ul><li>Quarenta por cento da memória usada pelo [!INCLUDE[ssDE](../../includes/ssde-md.md)]. Aplica-se somente quando o parâmetro **locks** de sp_configure está definido como 0. <li>Quarenta por cento da memória de bloqueio configurada usando o parâmetro **locks** do sp_configure. Para obter mais informações, veja [Opções de configuração do servidor &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).</li></ul><br />Se os sinalizadores de rastreamento 1211 e 1224 forem definidos, o 1211 terá precedência sobre o 1224. Entretanto, como o sinalizador de rastreamento 1211 evita o escalonamento em todos os casos, mesmo sob pressão de memória, recomendamos usar 1224. Isso ajuda a evitar erros de "falta de bloqueios" quando muitos bloqueios são usados.<br /><br />**Observação:** o escalonamento de bloqueio para a granularidade no nível da tabela ou no nível de HoBT (heap ou árvore B) também pode ser controlado usando a opção LOCK_ESCALATION da instrução [ALTER TABLE](../../t-sql/statements/alter-table-transact-sql.md).<br /><br />**Escopo:** global ou sessão|
|**1236**|Permite o particionamento de bloqueio do banco de dados. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2926217).<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 e o [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1, esse comportamento é controlado pelo mecanismo e o sinalizador de rastreamento 1236 não tem nenhum efeito.<br /><br />**Escopo**: apenas global|
|**1237**|Permite que a instrução ALTER PARTITION FUNCTION cumpra a prioridade de deadlock da sessão definida pelo usuário atual em vez de ser a provável vítima do deadlock por padrão. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/help/4025261).<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQLv14](../../includes/sssqlv14-md.md)] e o [nível de compatibilidade](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) 140 do banco de dados, esse é o comportamento padrão e o sinalizador de rastreamento 1237 não tem nenhum efeito.<br /><br />**Escopo**: global, sessão ou consulta|
|**1260**|Desabilitar os despejos do monitor do agendador.<br /><br />**Escopo**: apenas global|   
|**1448**|Permite que o leitor de log de replicação continue mesmo se os secundários assíncronos não reconhecerem a recepção de uma alteração. Mesmo com este sinalizador de rastreamento habilitado, o leitor de log sempre espera pelos secundários de sincronização. O leitor de log não passará do reconhecimento mínimo dos secundários de sincronização. Este sinalizador de rastreamento se aplica à instância do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], não apenas a um grupo de disponibilidade, um banco de dados de disponibilidade ou uma instância do leitor de log. Entra em vigor imediatamente, sem reinicialização. Este sinalizador de rastreamento pode ser ativado antecipadamente ou quando um secundário assíncrono falha. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/937041).<br /><br />**Escopo**: apenas global|   
|**1462**|Desabilita a compactação do fluxo de log para grupos de disponibilidade assíncronos. Esse recurso é habilitado por padrão nos grupos de disponibilidade assíncronos para otimizar a largura de banda de rede. Para obter mais informações, veja [Ajustar a compactação do grupo de disponibilidade](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Escopo**: apenas global| 
|**1800**|Permite a otimização do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] quando discos de diferentes tamanhos de setor são usados para arquivos de log de réplica primária e secundária, nos ambientes Always On e de envio de logs do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Este sinalizador de rastreamento só precisa ser habilitado em instâncias do SQL Server que tenham o arquivo de log de transações residindo no disco, com um tamanho de setor de 512 bytes. Ele **não** precisa ser habilitado para discos com tamanhos de setor de 4 mil. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3009974).<br /><br />**Escopo:** apenas global|
|**2301**|Habilitar otimizações avançadas para suporte de decisão. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/920093).<br /><br />**Escopo**: global, sessão e consulta|
|**2312**|Permite que você defina o modelo de estimativa de cardinalidade do otimizador de consulta para as versões [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] até [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], dependendo do nível de compatibilidade do banco de dados. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2801413).<br /><br />Começando com o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, para fazer isso no nível da consulta, adicione a [dica de consulta](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'FORCE_DEFAULT_CARDINALITY_ESTIMATION' em vez de usar este sinalizador de rastreamento.<br /><br />**Escopo**: global, sessão ou consulta| 
|**2335**|Faz com que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] assuma que há uma quantidade fixa de memória disponível durante a otimização de consulta. Ele não limita as concessões de memória do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para executar a consulta. A memória configurada para o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ainda será usada pelo cache de dados, pela execução da consulta e por outros consumidores. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2413549).<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Escopo**: global, sessão ou consulta|
|**2340**|Faz com que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] não use uma operação de classificação (classificação em lotes) para junções otimizadas de Loops Aninhados ao gerar um plano. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2009160).<br /><br />Começando com o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, para fazer isso no nível da consulta, adicione a [dica de consulta](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_OPTIMIZED_NESTED_LOOP' em vez de usar este sinalizador de rastreamento.<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Escopo**: global, sessão ou consulta|
|**2371**|Altera o limite fixo de estatísticas de atualização automática para o limite dinâmico de estatísticas de atualização automática. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2754171).<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] e no [nível de compatibilidade do banco de dados](../../relational-databases/databases/view-or-change-the-compatibility-level-of-a-database.md) 130, esse comportamento é controlado pelo mecanismo e o sinalizador de rastreamento 2371 não tem nenhum efeito.<br /><br />**Escopo**: apenas global|
|**2389**|Habilitar as estatísticas rápidas geradas automaticamente para chaves crescentes (aditamento de histograma). Se o sinalizador de rastreamento 2389 estiver definido e uma coluna de estatísticas principal estiver marcada como crescente, o histograma usado para estimar a cardinalidade será ajustado no tempo de compilação da consulta. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2801413).<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Observação:** esse sinalizador de rastreamento não se aplica ao CE versão 120 ou acima. Nesse caso, use o sinalizador de rastreamento 4139.<br /><br />**Escopo**: global, sessão ou consulta|
|**2390**|Habilitar as estatísticas rápidas geradas automaticamente para chaves crescentes ou desconhecidas (aditamento de histograma). Se o sinalizador de rastreamento 2390 estiver definido e uma coluna de estatísticas principal estiver marcada como crescente ou desconhecida, o histograma usado para estimar a cardinalidade será ajustado no tempo de compilação da consulta. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2801413).<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Observação:** esse sinalizador de rastreamento não se aplica ao CE versão 120 ou acima. Nesse caso, use o sinalizador de rastreamento 4139.<br /><br />**Escopo**: global, sessão ou consulta|
|**2422**|Permite que o [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] anule uma solicitação quando o tempo máximo definido pela configuração REQUEST_MAX_CPU_TIME_SEC do Resource Governor é excedido. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/help/4038419).<br /><br />**Observação:** sinalizador de rastreamento se aplica ao [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP2, [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU3 e a builds superiores.<br /><br />**Escopo**: global|
|**2430**|Permite uma limpeza de classe de bloqueio alternativa. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2754301).<br /><br />**Escopo**: apenas global| 
|**2453**|Permite que uma variável de tabela dispare a recompilação quando um número suficiente de linhas é alterado. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2952444).<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Escopo**: global, sessão ou consulta|
|**2467**|Permite uma política alternativa de alocação de thread de trabalho paralelo, com base em qual nó tem menos threads alocados. Para saber mais, veja [Processamento de Consulta Paralela](../../relational-databases/query-processing-architecture-guide.md#parallel-query-processing). Confira informações sobre como configurar a opção de servidor de máximo de threads de trabalho em [Configurar a Opção de Configuração de Servidor de máximo de threads de trabalho](../../database-engine/configure-windows/configure-the-max-worker-threads-server-configuration-option.md).<br /><br />**Observação:** a consulta do grau de paralelismo (DOP) deve se ajustar a um único nó para que esta política alternativa seja usada ou para que, em vez disso, a política padrão de alocação de thread seja usada. Usando esse sinalizador de rastreamento, recomendamos não executar consultas que especificam um DOP sobre o número de agendadores em um único nó porque isso poderia interferir nas consultas que especificam um DOP inferior ou igual ao número de agendadores em um único nó.<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Escopo**: apenas global|
|**2469**|Permite a troca alternada para `INSERT INTO ... SELECT` para um índice columnstore particionado. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3204769).<br /><br />**Escopo**: global, sessão ou consulta|
|**2528**|Desabilita a verificação paralela de objetos por DBCC CHECKDB, DBCC CHECKFILEGROUP e DBCC CHECKTABLE. Por padrão, o grau de paralelismo é automaticamente determinado pelo processador de consultas. O grau máximo de paralelismo é configurado da mesma forma que o das consultas paralelas. Para obter mais informações, veja [Configurar a opção max degree of parallelism de configuração de servidor](../../database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option.md).<br /><br />**Observação:** as verificações paralelas do DBCC normalmente devem estar habilitadas (padrão). O processador de consultas reavalia e ajusta automaticamente o paralelismo para cada tabela ou lote de tabelas verificado pelo DBCC CHECKDB.<br /><br />O cenário de uso típico é quando um administrador de sistema sabe que a carga do servidor vai aumentar antes que o DBCC CHECKDB seja concluído e, então, escolhe diminuir ou desabilitar manualmente o paralelismo, para aumentar a simultaneidade com outra carga de trabalho do usuário. No entanto, desabilitar as verificações paralelas no DBCC CHECKDB pode fazer com que ele leve mais tempo para ser concluído.<br /><br />**Observação:** se o DBCC CHECKDB for executado usando a opção TABLOCK e o paralelismo estiver desabilitado, as tabelas poderão ser bloqueadas por períodos mais longos.<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2, a opção MAXDOP está disponível para substituir a opção de configuração de grau máximo de paralelismo de sp_configure para a instrução.<br /><br />**Escopo**: global ou sessão|
|**2549**|Executa o comando DBCC CHECKDB considerando que cada arquivo de banco de dados está em uma unidade de disco exclusiva. O comando DBCC CHECKDB compila uma lista interna de páginas a serem lidas por unidade de disco exclusiva em todos os arquivos do banco de dados. Essa lógica determina as unidades de disco exclusivas com base na letra da unidade do nome do arquivo físico de cada arquivo.<br /><br />**Observação:** não use este sinalizador de rastreamento, a menos que você saiba que cada arquivo está baseado em um disco físico exclusivo.<br /><br />**Observação:** embora esse sinalizador de rastreamento melhore o desempenho dos comandos DBCC CHECKDB direcionados ao uso da opção PHYSICAL_ONLY, alguns usuários talvez não vejam nenhuma melhoria no desempenho. Apesar deste sinalizador de rastreamento melhorar o uso de recursos de E/S do disco, o desempenho subjacente dos recursos de disco pode limitar o desempenho geral do comando DBCC CHECKDB. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2634571).<br /><br />**Escopo**: apenas global| 
|**2562**|Executa o comando DBCC CHECKDB em um único "lote", independentemente do número de índices no banco de dados. Por padrão, o comando DBCC CHECKDB tenta minimizar os recursos do tempdb, limitando o número de índices ou de "fatos" gerados usando um conceito de "lotes". Este sinalizador de rastreamento força todo o processamento em um único lote.<br /><br />Um efeito de usar este sinalizador de rastreamento é que os requisitos de espaço para o tempdb podem aumentar. O tempdb pode aumentar até 5% ou mais do banco de dados de usuário que está sendo processado pelo comando DBCC CHECKDB.<br /><br />**Observação:** embora esse sinalizador de rastreamento melhore o desempenho dos comandos DBCC CHECKDB direcionados ao uso da opção PHYSICAL_ONLY, alguns usuários talvez não vejam nenhuma melhoria no desempenho. Apesar deste sinalizador de rastreamento melhorar o uso de recursos de E/S do disco, o desempenho subjacente dos recursos de disco pode limitar o desempenho geral do comando DBCC CHECKDB. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2634571).<br /><br />**Escopo**: apenas global|
|**2566**|Executa o comando DBCC CHECKDB sem a verificação de pureza de dados, a menos que a opção DATA_PURITY esteja especificada.<br /><br />**Observação:** Verificações de integridade de valor de coluna são habilitadas por padrão e não exigem a opção DATA_PURITY. Para bancos de dados atualizados de versões anteriores do SQL Server, as verificações de valor de coluna não são habilitadas por padrão até que o DBCC CHECKDB WITH DATA_PURITY seja executado sem erros no banco de dados pelo menos uma vez. Depois disso, DBCC CHECKDB verifica a integridade de valores de coluna por padrão. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/945770).<br /><br />**Escopo**: apenas global|
|**3023**|Habilita a opção CHECKSUM como padrão para o comando BACKUP. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2656988).<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], esse comportamento é controlado definindo a opção de configuração **padrão da soma de verificação de backup**. Para obter mais informações, veja [Opções de configuração do servidor &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).<br /><br />**Escopo**: global e sessão|
|**3042**|Ignora o algoritmo padrão de pré-alocação de compactação de backup para permitir que o arquivo de backup cresça somente quando necessário para alcançar seu tamanho final. Este sinalizador de rastreamento será útil se você precisar salvar em espaço alocando somente o tamanho real necessário para o backup compactado. Usar este sinalizador de rastreamento pode causar uma pequena penalidade de desempenho (um possível aumento na duração da operação de backup). Para obter mais informações sobre o algoritmo de pré-alocação, confira [Compactação de backup &#40;SQL Server&#41;](../../relational-databases/backup-restore/backup-compression-sql-server.md).<br /><br />**Escopo**: apenas global|
|**3051**|Permite a criação de log do backup do SQL Server para URL em um arquivo de log de erro específico. Para obter mais informações, confira [Práticas recomendadas e solução de problemas de backup do SQL Server para URL](../../relational-databases/backup-restore/sql-server-backup-to-url-best-practices-and-troubleshooting.md).<br /><br />**Escopo**: apenas global|  
|**3205**|Por padrão, se uma unidade de fita oferecer suporte à compactação de hardware, a instrução DUMP ou BACKUP a usará. Com esse sinalizador de rastreamento, é possível desabilitar a compactação de hardware para drivers de fita. Isso é útil quando se deseja trocar as fitas por outros locais ou unidades de fita que não oferecem suporte à compactação.<br /><br />**Escopo**: global ou sessão|  
|**3226**|Por padrão, toda operação de backup bem-sucedida acrescenta uma entrada ao log de erros do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e ao log de eventos do sistema. Se você criar backups de log com frequência, essas mensagens de êxito se acumularão rapidamente, resultando em enormes logs de erros nos quais será difícil localizar outras mensagens.<br /><br />Com este sinalizador de rastreamento, você pode suprimir estas entradas de log. Isso é útil se você estiver executando backups de log frequentes e se nenhum dos seus scripts depender dessas entradas.<br /><br />**Escopo**: apenas global|   
|**3427**|Permite consertar o problema quando muitas transações consecutivas que inserem dados em tabelas temporárias no [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] ou no [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] consomem mais CPU do que no [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Para obter mais informações, consulte este [artigo do Suporte da Microsoft](https://support.microsoft.com/help/3216543)<br /><br />**Observação:** esse sinalizador de rastreamento aplica-se ao [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 CU2 e a builds superiores. Do [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] em diante, esse sinalizador de rastreamento não tem nenhum efeito.<br /><br />**Escopo**: apenas global|  
|**3459**|Desabilita a restauração paralela. Para obter mais informações, consulte este [artigo](https://support.microsoft.com/help/3200975) e este [artigo do Suporte da Microsoft](https://support.microsoft.com/help/4101554).<br /><br />**Observação:** esse sinalizador de rastreamento aplica-se ao [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] e ao [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)].<br /><br />**Escopo**: apenas global| 
|**3468**|Desabilita [pontos de verificação indiretos](https://docs.microsoft.com/sql/relational-databases/logs/database-checkpoints-sql-server?view=sql-server-2017#IndirectChkpt) em TempDB.<br /><br />**Observação:** esse sinalizador de rastreamento aplica-se a [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 CU5, [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU1 e a builds superiores.<br /><br />**Escopo**: apenas global|  
|**3608**|Impede que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] inicie e recupere automaticamente qualquer banco de dados, exceto o banco de dados **mestre**. Se as atividades que requerem o **tempdb** forem iniciadas, o **modelo** será recuperado e o **tempdb** será criado. Outros bancos de dados serão iniciados e recuperados quando acessados. Alguns recursos, como isolamento de instantâneo e instantâneo de leitura confirmada, talvez não funcionem. Use para [Mover bancos de dados do sistema](../../relational-databases/databases/move-system-databases.md) e [Mover bancos de dados de usuário](../../relational-databases/databases/move-user-databases.md).<br /><br />**Observação:** Não use durante operação normal.<br /><br />**Escopo**: apenas global|   
|**3625**|Limita a quantidade de informações retornadas aos usuários que não são membros da função de servidor fixa sysadmin, mascarando os parâmetros de algumas mensagens de erro usando '\*\*\*\*\*\*'. Isso pode ajudar a evitar a divulgação de informações confidenciais.<br /><br />**Escopo**: apenas global|  
|**3656**|Habilita a resolução do símbolo em despejos de pilha quando as Ferramentas de Depuração do Windows estão instaladas. Para saber mais, confira este [White paper da Microsoft](https://www.microsoft.com/download/details.aspx?id=26666).<br /><br />**Aviso:** esse é um sinalizador de rastreamento de depuração e não se destina para uso do ambiente de produção.<br /><br />**Escopo**: global e sessão|
|**4136**|Desabilita a detecção de parâmetro, a menos que OPTION(RECOMPILE), WITH RECOMPILE ou OPTIMIZE FOR \<value> seja usado. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/980653).<br /><br />Começando com [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], para fazer isso no nível do banco de dados, confira a opção PARAMETER_SNIFFING em [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />Para fazer isso no nível da consulta, adicione a [dica de consulta](../../t-sql/queries/hints-transact-sql-query.md) OPTIMIZE FOR UNKNOWN. Começando com o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, a segunda opção para fazer isso no nível da consulta é adicionar a [dica de consulta](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_PARAMETER_SNIFFING' em vez de usar este sinalizador de rastreamento.<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Escopo**: global ou sessão|  
|**4137**|Faz com que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] gere um plano usando a seletividade mínima ao estimar predicados AND para os filtros a serem considerados para correlação, com o modelo de estimativa de cardinalidade do otimizador de consulta do [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e das versões anteriores. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2658214).<br /><br />Começando com o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, para fazer isso no nível da consulta, adicione a [dica de consulta](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' em vez de usar este sinalizador de rastreamento ao usar o CE herdado.<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Observação:** esse sinalizador de rastreamento não se aplica ao CE versão 120 ou acima. Nesse caso, use o sinalizador de rastreamento 9471.<br /><br />**Escopo**: global, sessão ou consulta| 
|**4138**|Faz com que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] gere um plano que não usa ajustes de meta de linha com consultas que contenham as palavras-chave TOP, OPTION (FAST N), IN ou EXISTS. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2667211).<br /><br />Começando com o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, para fazer isso no nível da consulta, adicione a [dica de consulta](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_OPTIMIZER_ROWGOAL' em vez de usar este sinalizador de rastreamento.<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Escopo**: global, sessão ou consulta| 
|**4139**|Habilitar as estatísticas rápidas geradas automaticamente (aditamento de histograma) independentemente do status da coluna de chave. Se o sinalizador de rastreamento 4139 for definido, independentemente do status da coluna de estatísticas principal (crescente, decrescente ou estático), o histograma usado para estimar a cardinalidade será ajustado no tempo de compilação da consulta. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2952101).<br /><br />Começando com o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, para fazer isso no nível da consulta, adicione a [dica de consulta](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ENABLE_HIST_AMENDMENT_FOR_ASC_KEYS' em vez de usar este sinalizador de rastreamento.<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Observação:** esse sinalizador de rastreamento não se aplica ao CE versão 70. Use os sinalizadores de rastreamento 2389 e 2390.<br /><br />**Escopo**: global, sessão ou consulta|
|**4199**|<a name="4199"></a>Habilita os consertos (fixes) do QO (otimizador de consulta) lançadas nas atualizações cumulativas e nos service packs do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br />As alterações do QO feitas nas versões anteriores do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] são habilitadas por padrão no [nível de compatibilidade](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) mais recente do banco de dados em uma determinada versão do produto sem o sinalizador de rastreamento 4199 ser habilitado.<br /><br />A tabela a seguir resume o comportamento ao usar níveis de compatibilidade do banco de dados específicos e o sinalizador de rastreamento 4199. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/974006).<br /><br /><table border="1" frame="void" width="550"><tr valign="middle" align="center"><td>**Nível de compatibilidade do banco de dados**</td><td>**TF 4199**</td><td>**Alterações do QO em relação aos níveis de compatibilidade do banco de dados anteriores**</td><td>**Alterações do QO para a versão atual pós-RTM (Release to Manufacturing)**</td></tr><tr valign="middle" align="center"><td rowspan="2">**100 a 120**</td><td>Desativado</td><td>Desabilitado</td><td>Desabilitado</td></tr><tr valign="middle" align="center"><td>Em</td><td>Habilitado</td><td>Habilitado</td></tr><tr valign="middle" align="center"><td rowspan="2">**130**</td><td>Desativado</td><td>Habilitado</td><td>Desabilitado</td></tr><tr valign="middle" align="center"><td>Em</td><td>Habilitado</td><td>Habilitado</td></tr><tr valign="middle" align="center"><td rowspan="2">**140**</td><td>Desativado</td><td>Habilitado</td><td>Desabilitado</td></tr><tr valign="middle" align="center"><td>Em</td><td>Habilitado</td><td>Habilitado</td></tr><tr valign="middle" align="center"><td rowspan="2">**150**</td><td>Desativado</td><td>Habilitado</td><td>Desabilitado</td></tr><tr valign="middle" align="center"><td>Em</td><td>Habilitado</td><td>Habilitado</td></tr></table><br /><br />Começando com [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], para fazer isso no nível do banco de dados, confira a opção QUERY_OPTIMIZER_HOTFIXES em [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />Começando com o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, para fazer isso no nível da consulta, adicione a [dica de consulta](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ENABLE_QUERY_OPTIMIZER_HOTFIXES' em vez de usar este sinalizador de rastreamento.<br /><br />**Escopo**: global, sessão ou consulta|
|**4610**|Aumenta o tamanho da tabela de hash que armazena as entradas de cache em um fator igual a 8. Quando usado em conjunto com o sinalizador de rastreamento 4618 aumenta o número de entradas no repositório de cache TokenAndPermUserStore para 8.192. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/959823).<br /><br />**Escopo:** apenas global|
|**4616**|Torna os metadados em nível de servidor visíveis para funções de aplicativo. No [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], uma função de aplicativo não pode acessar metadados fora de seu próprio banco de dados porque as funções de aplicativo não são associadas a um principal em nível de servidor. Essa é uma alteração de comportamento de versões anteriores do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Definir esse sinalizador global desabilita as novas restrições e permite que funções de aplicativo acessem metadados em nível de servidor.<br /><br />**Escopo**: apenas global|
|**4618**|Limita o número de entradas no repositório de cache TokenAndPermUserStore para 1.024. Quando usado em conjunto com o sinalizador de rastreamento 4610 aumenta o número de entradas no repositório de cache TokenAndPermUserStore para 8.192. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/959823).<br /><br />**Escopo:** apenas global|
|**5004**|Pausa a verificação de criptografia de TDE (Transparent Data Encryption) e faz com que o trabalho de verificação de criptografia seja encerrado sem ser realizado. O banco de dados continuará no estado criptografando (criptografia em andamento). Para retomar a verificação de nova criptografia, desabilite o sinalizador de rastreamento 5004 e execute ALTER DATABASE <database_name> SET ENCRYPTION ON. <br /><br />**Escopo:** apenas global|
|**6498**|Permite que mais de uma compilação de consulta grande ganhe acesso ao gateway grande quando há memória suficiente disponível. Baseia-se em 80% da memória de destino do SQL Server e permite uma compilação de consulta grande a cada 25 GB (GB) de memória. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3024815).<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 e o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], esse comportamento é controlado pelo mecanismo e o sinalizador de rastreamento 6498 não tem nenhum efeito.<br /><br />**Escopo**: apenas global|
|**6527**|Desabilita a geração de um despejo de memória na primeira ocorrência de uma exceção de memória insuficiente na integração de CLR. Por padrão, o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] gera um despejo de memória pequeno na primeira ocorrência de uma exceção de memória insuficiente no CLR (Common Language Runtime). O comportamento do sinalizador de rastreamento é:<br /><ul><li>Se isso for usado como um sinalizador de rastreamento de inicialização, um despejo de memória nunca será gerado. No entanto, um despejo de memória poderá ser gerado se forem usados outros sinalizadores de rastreamento. <li>Se esse sinalizador de rastreamento estiver habilitado em um servidor em execução, um despejo de memória não será gerado automaticamente a partir desse ponto. No entanto, se um despejo de memória já tiver sido gerado devido a uma exceção de memória insuficiente no CLR, este sinalizador de rastreamento não terá nenhum efeito.</li></ul><br />**Escopo**: apenas global|
|**6532**|Permite a melhoria do desempenho de operações de consulta com tipos de dados espaciais no [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e no [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. O ganho de desempenho vai variar, dependendo da configuração, dos tipos de consultas e dos objetos. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3107399).<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], esse comportamento é controlado pelo mecanismo e o sinalizador de rastreamento 6532 não tem nenhum efeito.<br /><br />**Escopo**: global e sessão|
|**6533**|Permite a melhoria do desempenho de operações de consulta com tipos de dados espaciais no [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e no [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. O ganho de desempenho vai variar, dependendo da configuração, dos tipos de consultas e dos objetos. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3107399).<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], esse comportamento é controlado pelo mecanismo e o sinalizador de rastreamento 6533 não tem nenhum efeito.<br /><br />**Escopo**: global e sessão| 
|**6534**|Permite a melhoria do desempenho de operações de consulta com tipos de dados espaciais no [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], no [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] e no [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. O ganho de desempenho vai variar, dependendo da configuração, dos tipos de consultas e dos objetos. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3107399).<br /><br />**Escopo**: apenas global|
|**7314**|Força os valores NUMBER com precisão/escala desconhecida a serem tratados como valores duplos no Provedor OLE DB. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3051993).<br /><br />**Escopo**: global e sessão|  
|**7412**|Habilita a infraestrutura leve de criação de perfil de estatísticas de execução de consulta. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3170113).<br /><br />**Observação:** esse sinalizador de rastreamento aplica-se ao [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 e a builds superiores. Começando com [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], este sinalizador de rastreamento não tem nenhum efeito, porque a criação de perfil leve é habilitada por padrão.<br /><br />**Escopo**: apenas global|
|**7471**|Permite executar várias [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md) para estatísticas diferentes em uma única tabela simultaneamente. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3156157).<br /><br />**Observação:** esse sinalizador de rastreamento aplica-se ao [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 e a builds superiores.<br /><br />**Escopo**: apenas global|
|**7745**|Força o Repositório de Consultas a não liberar dados para o disco no desligamento do banco de dados.<br /><br />**Observação:** usar este rastreamento pode fazer com que os dados do Repositório de Consultas que não foram liberados para o disco sejam perdidos em caso de desligamento. Para um desligamento do [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], o comando SHUTDOWN WITH NOWAIT pode ser usado em vez do sinalizador de rastreamento para forçar um desligamento imediato.<br /><br />**Escopo**: apenas global|
|**7752**|Habilita o carregamento assíncrono do Repositório de Consultas.<br /><br />**Observação:** Use este sinalizador de rastreamento se o [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] estiver apresentando um alto número de esperas QDS_LOADDB relacionadas à carga síncrona do Repositório de Consultas (comportamento padrão durante a recuperação do banco de dados).<br /><br />**Escopo**: apenas global|
|**7806**|Habilita uma conexão de administrador dedicada (DAC) no [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Por padrão, nenhum recurso DAC é reservado no [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Para obter mais informações, veja [Conexão de diagnóstico para administradores de banco de dados](../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).<br /><br />**Escopo**: apenas global|  
|**8011**|Desabilitar o buffer de anéis do Monitor de Recursos. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/920093).<br /><br />**Escopo**: global e sessão|
|**8012**|Desabilitar o buffer de anéis para agendadores. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/920093).<br /><br />**Escopo**: apenas global|
|**8015**|Desabilitar a detecção automática e a configuração NUMA. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2813214).<br /><br />**Escopo**: apenas global|
|**8018**|Desabilitar o buffer de anéis de exceção. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/920093).<br /><br />**Escopo**: apenas global|
|**8019**|Desabilitar a coleta de pilha para o buffer de anéis de exceção. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/920093).<br /><br />**Escopo**: apenas global|
|**8020**|Desabilitar o monitoramento do conjunto de trabalho. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/920093).<br /><br />**Escopo**: apenas global|
|**8032**|Reverte os parâmetros de limite de cache para a configuração do [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] RTM, que, em geral, permite que os caches sejam maiores. Use esta configuração quando entradas de cache reutilizadas com frequência não se ajustarem no cache e quando o [optimize for ad hoc workloads Server Configuration Option](../../database-engine/configure-windows/optimize-for-ad-hoc-workloads-server-configuration-option.md) não tiver resolvido o problema com o cache do plano.<br /><br />**AVISO:** O sinalizador de rastreamento 8032 pode causar baixo desempenho se os caches grandes deixarem menos memória disponível para outros consumidores de memória, como o pool de buffers.<br /><br />**Escopo**: apenas global|   
|**8048**|Converte objetos de memória particionados NUMA em CPU particionada. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2809338).<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 e o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], esse comportamento é controlado pelo mecanismo e o sinalizador de rastreamento 8048 não tem nenhum efeito.<br /><br />**Escopo**: apenas global|  
|**8075**|Reduz a fragmentação do [VAS](../../relational-databases/memory-management-architecture-guide.md#changes-to-memory-management-starting-2012-11x-gm) quando você recebe erros de alocação de página de memória em um [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] ou [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] de 64 bits. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3074434).<br /><br />**Observação:** esse sinalizador de rastreamento aplica-se a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] RTM CU10 e a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 CU3. A partir de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], esse comportamento é controlado pelo mecanismo, e o sinalizador de rastreamento 8075 não tem nenhum efeito.<br /><br />**Escopo**: apenas global|
|**8079**|Permite que o [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 interrogue o layout de hardware e configure automaticamente o Soft-NUMA em sistemas que estejam relatando 8 ou mais CPUs por nó NUMA. O comportamento automático do Soft-NUMA é reconhecer o Hyperthread (HT/processador lógico). O particionamento e a criação de nós adicionais dimensiona o processamento em segundo plano aumentando o número de ouvintes, o dimensionamento e os recursos de rede e de criptografia.<br /><br />**Observação:** esse sinalizador de rastreamento aplica-se ao [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2. Começando com [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], esse comportamento é controlado pelo mecanismo e o sinalizador de rastreamento 8079 não tem nenhum efeito.<br /><br />**Escopo**: apenas global| 
|**8207**|Habilita atualizações singleton para Replicação transacional e CDA. As atualizações para os assinantes podem ser replicadas como um par DELETE e INSERT. Isso pode não atender às regras de negócio, como acionar um gatilho de UPDATE. Com o sinalizador de rastreamento 8207, uma atualização para uma coluna exclusiva que afeta apenas uma linha (uma atualização singleton) é replicada como uma UPDATE e não como um par DELETE ou INSERT. Se a atualização afetar uma coluna em que exista uma única restrição exclusiva ou se a atualização afetar várias linhas, a atualização ainda será replicada como um par DELETE ou INSERT. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/302341).<br /><br />**Escopo**: apenas global|
|**8721**|Relata para o log de erros quando as estatísticas de atualização automática são executadas. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/195565).<br /><br />**Escopo**: apenas global|
|**8744**|Desabilitar a pré-busca para o operador de loops aninhados. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/920093).<br /><br />**Observação:**  o uso incorreto desse sinalizador de rastreamento pode causar leituras físicas adicionais quando o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] executa planos que contêm o operador de loops aninhados.<br /><br />**Escopo**: global e sessão|
|**9024**|Converte um objeto de memória do pool de logs global em um objeto de memória particionada de nó NUMA. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2809338).<br /><br />**Observação:** começando pelo [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 e o [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1, esse comportamento é controlado pelo mecanismo e o sinalizador de rastreamento 9024 não tem nenhum efeito.<br /><br />**Escopo**: apenas global|
|**9347**|Desabilita o modo de lote para o operador de classificação. O [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] introduziu um novo operador de classificação de modo de lote que aumenta o desempenho de muitas consultas analíticas. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3172787).<br /><br />**Escopo**: global, sessão ou consulta|
|**9349**|Desabilita o modo de lote para o operador de classificação de N principais. O [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] introduziu um novo operador de classificação superior de modo de lote que aumenta o desempenho de muitas consultas analíticas.<br /><br />**Escopo**: global, sessão ou consulta|
|**9389**|Habilita a concessão de memória dinâmica adicional para operadores de modo de lote. Se uma consulta não receber toda a memória que precisa, ela despejará dados para o tempdb, acarretando E/S adicional e possivelmente afetando o desempenho da consulta. Se o sinalizador de rastreamento de concessão de memória dinâmica estiver habilitado, um operador de modo de lote poderá solicitar memória adicional e evitar o despejo para o tempdb, se houver memória adicional disponível. Para obter mais informações, consulte a seção *Efeitos de min memory per query* do [Guia de arquitetura de gerenciamento de memória](../../relational-databases/memory-management-architecture-guide.md#effects-of-min-memory-per-query).<br /><br />**Escopo**: global ou sessão| 
|**9398**|Desabilita o operador de [Junção Adaptável](../../relational-databases/performance/adaptive-query-processing.md#batch-mode-adaptive-joins) que permite que a opção de um método de [junção Hash ou de Loops Aninhados](../../relational-databases/performance/joins.md) seja adiada até após a verificação da primeira entrada, conforme introduzido no [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)]. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/4099126).<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Escopo**: global, sessão e consulta|
|**9453**|Desabilita a execução do modo de lote. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/help/4016902).<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Escopo:** global, sessão e consulta|
|**9471**|Faz com que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] gere um plano usando a seletividade mínima para filtros de tabela única, com o modelo de estimativa de cardinalidade do otimizador de consulta das versões [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] até [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].<br /><br />Começando com o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, para fazer isso no nível da consulta, adicione a [dica de consulta](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' em vez de usar este sinalizador de rastreamento.<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Observação:** esse sinalizador de rastreamento não se aplica ao CE versão 70. Nesse caso, use o sinalizador de rastreamento 4137.<br /><br />**Escopo**: global, sessão ou consulta| 
|**9476**|Faz com que o [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] gere um plano usando a suposição de confinamento simples em vez da suposição de confinamento de base padrão, com o modelo de estimativa de cardinalidade do otimizador de consulta das versões [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] até [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3189675).<br /><br />Começando com o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, para fazer isso no nível da consulta, adicione a [dica de consulta](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_JOIN_PREDICATE_DEPENDS_ON_FILTERS' em vez de usar este sinalizador de rastreamento.<br /><br />**Observação:** Teste essa opção completamente antes de implantá-la em um ambiente de produção.<br /><br />**Escopo**: global, sessão ou consulta| 
|**9481**|Permite definir o modelo de estimativa de cardinalidade do otimizador de consulta para o [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e versões anteriores, independentemente do nível de compatibilidade do banco de dados. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/2801413).<br /><br />Começando com [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], para fazer isso no nível do banco de dados, confira a opção LEGACY_CARDINALITY_ESTIMATION em [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />Começando com o [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, para fazer isso no nível da consulta, adicione a [dica de consulta](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'FORCE_LEGACY_CARDINALITY_ESTIMATION' em vez de usar este sinalizador de rastreamento.<br /><br />**Escopo**: global, sessão ou consulta|  
|**9485**|Desabilita a permissão SELECT para DBCC SHOW_STATISTICS.<br /><br />**Escopo**: apenas global|
|**9488**|<a name="9488"></a>Define a estimativa fixa das funções com valor de tabela para o padrão 1 (correspondente ao padrão do modelo de estimativa de cardinalidade do otimizador de consulta do [!INCLUDE[ssKilimanjaro](../../includes/ssKilimanjaro-md.md)] e das versões anteriores), ao usar o modelo de estimativa de cardinalidade do otimizador de consulta nas versões [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] até [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].<br /><br />**Escopo**: global, sessão ou consulta|
|**9495**|Desabilita o paralelismo durante a inserção para operações INSERT...SELECT e aplica-se às tabelas de usuário e temporárias. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3180087)<br /><br />**Escopo**: global ou sessão| 
|**9567**|Habilita a compactação do fluxo de dados para Grupos de Disponibilidade AlwaysOn durante a propagação automática. A compactação pode reduzir significativamente o tempo de transferência durante a propagação automática e aumentar a carga no processador. Para obter mais informações, confira [Inicializar automaticamente o Grupo de Disponibilidade AlwaysOn](../../database-engine/availability-groups/windows/automatically-initialize-always-on-availability-group.md) e [Ajustar a compactação do grupo de disponibilidade](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Escopo**: global ou sessão|
|**9591**|Desabilita a compactação do bloco de logs em Grupos de Disponibilidade AlwaysOn. A compactação do bloco de log sé o comportamento padrão usado com réplicas síncronas e assíncronas no [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e no [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. No [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], a compactação é usada somente com a réplica assíncrona. <br /><br />**Escopo**: global ou sessão|
|**9592**|Habilita a compactação do fluxo de logs para grupos de disponibilidade síncronos. Este recurso está desabilitado por padrão em grupos de disponibilidade síncronos, pois a compactação adiciona latência. Para obter mais informações, veja [Ajustar a compactação do grupo de disponibilidade](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Escopo**: global ou sessão| 
|**9929**|Reduz os arquivos de ponto de verificação na memória para 1 MB. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/3147012).<br /><br />**Escopo**: apenas global|  
|**9939**|Habilita os planos paralelos e a verificação paralela das tabelas com otimização de memória e das variáveis de tabela em operações de DML que referenciam tabelas com otimização de memória ou variáveis de tabela, desde que elas não sejam o destino da operação de DML no [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/4013877).<br /><br />**Observação:** o sinalizador de rastreamento 9939 não será necessário se o sinalizador de rastreamento 4199 também estiver habilitado explicitamente.<br /><br />**Escopo**: global, sessão ou consulta|   
|**10204**|Desabilita a mesclagem/recompactação durante a reorganização do índice columnstore. No [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], quando um índice columnstore é reorganizado, há uma nova funcionalidade para mesclar automaticamente todos os pequenos rowgroups compactados em rowgroups maiores compactados, bem como recompactar todos os rowgroups com um grande número de linhas excluídas.<br /><br />**Observação:** o sinalizador de rastreamento 10204 não se aplica a índices columnstore que são criados em tabelas com otimização de memória.<br /><br />**Escopo**: global ou sessão|   
|**10316**|Permite a criação de índices adicionais na [tabela temporal interna de preparo com otimização de memória](../../relational-databases/tables/system-versioned-temporal-tables-with-memory-optimized-tables.md), além do padrão. Se você tiver um padrão de consulta específico que inclua colunas que não estejam cobertas pelo índice padrão, considere adicionar outros.<br /><br />**Observação:** as tabelas temporais de versão do sistema para tabelas com otimização de memória são projetadas para fornecer alta produtividade transacional. Esteja ciente de que a criação de índices adicionais pode apresentar sobrecarga para operações de DML que atualizam ou excluem linhas na tabela atual. Com os índices adicionais, você deve buscar encontrar o equilíbrio certo entre desempenho das consultas temporais e a sobrecarga adicional de DML.<br /><br />**Escopo**: global ou sessão|
|**11023**|Desabilita o uso da última taxa de amostra persistente para todas as atualizações de estatísticas subsequentes em que uma taxa de amostra não está especificada explicitamente como parte da instrução [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md). Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/4039284).<br /><br />**Escopo**: global ou sessão|    
|**11024**|Permite disparar a atualização automática de estatísticas quando a contagem de modificação de qualquer partição exceder o [limite](../../relational-databases/statistics/statistics.md#AutoUpdateStats) local. Para obter mais informações, confira este [artigo do Suporte da Microsoft](https://support.microsoft.com/kb/4041811).<br /><br />**Observação:** sinalizador de rastreamento se aplica ao [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP2, [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU3 e a builds superiores.<br /><br />**Escopo**: global ou sessão| 
  
## <a name="remarks"></a>Remarks  
 No [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], há três tipos de sinalizadores de rastreamento: consulta, sessão e global. Os sinalizadores de rastreamento de consulta ficam ativos para o contexto de uma consulta específica. Os sinalizadores de rastreamento de sessão ficam ativos para uma conexão e são visíveis apenas para essa conexão. Sinalizadores de rastreamento globais são definidos no nível do servidor e são visíveis em todas as conexões no servidor. Alguns sinalizadores podem ser ativados somente como global e outros podem ser ativados no escopo global ou de sessão.  
  
 As seguintes regras se aplicam:  
-   Um sinalizador de rastreamento global deve ser habilitado globalmente. Caso contrário, ele não terá nenhum efeito. Recomendamos que você habilite os sinalizadores de rastreamento globais na inicialização usando a opção **-T** da linha de comando. Isso garante que o sinalizador de rastreamento permaneça ativo após o reinício do servidor.  
-   Se um sinalizador de rastreamento tiver um escopo global, de sessão ou de consulta, ele poderá ser habilitado com o escopo apropriado. Um sinalizador de rastreamento habilitado no nível de sessão nunca afeta outra sessão, e seu efeito se perde quando a SPID que abriu a sessão faz logoff.  
  
Sinalizadores de rastreamento são definidos como on ou off usando qualquer um dos seguintes métodos:
-   Usando os comandos DBCC TRACEON e DBCC TRACEOFF.  
     Por exemplo, para habilitar o sinalizador de rastreamento 2528 globalmente, use [DBCC TRACEON](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md) com o argumento -1: `DBCC TRACEON (2528, -1)`. O efeito de habilitar um sinalizador de rastreamento global com DBCC TRACEON é perdido no reinício do servidor. Para desligar um sinalizador de rastreamento global, use [DBCC TRACEOFF](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md) com o argumento -1.  
-   Usando a opção de inicialização **-T** para especificar que o sinalizador de rastreamento deve ser ativado durante a inicialização.  
     O **-T** habilita a opção de inicialização de um sinalizador de rastreamento globalmente. Não é possível habilitar um sinalizador de rastreamento no nível de sessão usando uma opção de inicialização. Isso garante que o sinalizador de rastreamento permaneça ativo após o reinício do servidor. Para obter mais informações sobre as opções de inicialização, consulte [Opções de inicialização do serviço Mecanismo de Banco de Dados](../../database-engine/configure-windows/database-engine-service-startup-options.md).
-   No nível da consulta, usando a [dica de consulta](https://support.microsoft.com/kb/2801413) QUERYTRACEON.
  
Use o comando `DBCC TRACESTATUS` para determinar quais sinalizadores de rastreamento estão ativos no momento.
  
## <a name="examples"></a>Exemplos  
 O exemplo a seguir ativa o sinalizador de rastreamento 3205 para todas as sessões no nível do servidor usando DBCC TRACEON.  
  
```sql  
DBCC TRACEON (3205,-1);  
```

Você pode habilitar todos os hotfixes que afetam o plano controlados pelos sinalizadores de rastreamento 4199 e 4137 para uma consulta específica.
  
```sql
SELECT x FROM correlated WHERE f1 = 0 AND f2 = 1 OPTION (QUERYTRACEON 4199, QUERYTRACEON 4137)
``` 
 
## <a name="see-also"></a>Consulte Também  
[Tipos de dados &#40;Transact-SQL&#41;](../../t-sql/data-types/data-types-transact-sql.md)  
[DBCC INPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-inputbuffer-transact-sql.md)  
[DBCC OUTPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-outputbuffer-transact-sql.md)  
[DBCC TRACEOFF &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md)  
[DBCC TRACEON &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md)  
[DBCC TRACESTATUS &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-tracestatus-transact-sql.md)  
[EXECUTE &#40;Transact-SQL&#41;](../../t-sql/language-elements/execute-transact-sql.md)  
[SELECT &#40;Transact-SQL&#41;](../../t-sql/queries/select-transact-sql.md)  
[SET NOCOUNT &#40;Transact-SQL&#41;](../../t-sql/statements/set-nocount-transact-sql.md)  
[Opções ALTER DATABASE SET &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md)  
[ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md)  
[Dicas de consulta (Transact-SQL)](../../t-sql/queries/hints-transact-sql-query.md)

